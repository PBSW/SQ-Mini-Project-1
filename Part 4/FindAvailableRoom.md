# Code

```csharp
public int FindAvailableRoom(DateTime startDate, DateTime endDate)
{
    if (startDate <= DateTime.Today || startDate > endDate)
        throw new ArgumentException("The start date cannot be in the past or later than the end date.");

    var activeBookings = bookingRepository.GetAll().Where(b => b.IsActive);
    foreach (var room in roomRepository.GetAll())
    {
        var activeBookingsForCurrentRoom = activeBookings
        .Where(b => b.RoomId == room.Id);
        
        if (activeBookingsForCurrentRoom.All(b => 
        startDate < b.StartDate && endDate < b.StartDate 
        || startDate > b.EndDate && endDate > b.EndDate))
        {
            return room.Id;
        }
    }
    return -1;
}
```

# Test Cases
AA



# BookingManager Complexy Report
- **Cyclomatic Complexity (Threshold: 10)**
- **Lines of Code (Threshold: 50)**
- **Parameter Count (Threshold: 4)**

| Function Name	        | Start Line	| End Line 	| Cyclomatic Complexity | Lines of Code    | Parameter Count 	|
|--------------	        |---	        |---	    |---	                |-----             |------	            |
| BookingManager        | 13 	        | 17 	    | 3 	                | 5                | 2 	                |
| CreateBooking         | 19 	        | 34 	    | 2 	                | 15               | 1 	                |
| FindAvailableRoom     | 36 	        | 52 	    | 7 	                | 16               | 2 	                |
| GetFullyOccupiedDates | 54 	        | 75 	    | 7 	                | 20               | 2 	                |


*Generated by Codalyze on 2024-11-12 12:58*